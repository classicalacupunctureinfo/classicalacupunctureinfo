<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Dashboard</title>
    <style>
        /* Base Theme - Light Teal & Dark Teal */
        :root {
            --bg: #b2dfdb;       /* Light Teal */
            --card: #ffffff;
            --primary: #004d40;  /* Dark Teal */
            --text: #00241f;
        }

        [data-theme="dark"] {
            --bg: #00241f;
            --card: #004d40;
            --primary: #4db6ac;
            --text: #e0f2f1;
        }

        body {
            font-family: sans-serif; /* High compatibility */
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            padding: 0;
            text-align: center;
        }

        /* Night Mode Toggle - Fixed Top Right */
        #theme-toggle {
            position: absolute;
            top: 10px;
            right: 10px;
            padding: 10px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 12px;
            z-index: 100;
        }

        .wrapper {
            padding: 20px;
            margin-top: 50px;
        }

        /* Login Box */
        .login-box {
            background: var(--card);
            padding: 30px 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            display: inline-block;
            width: 85%;
            max-width: 320px;
        }

        input[type="password"] {
            width: 90%;
            padding: 15px 5%;
            margin-bottom: 20px;
            border: 2px solid var(--primary);
            font-size: 18px; /* Prevents auto-zoom on iOS/Android */
            border-radius: 4px;
        }

        /* The Grid - Old School Layout for Webview */
        .grid-container {
            display: none; /* Hidden until login */
            width: 100%;
            max-width: 500px;
            margin: 0 auto;
        }

        .grid-row {
            width: 100%;
            display: block;
            clear: both;
            margin-bottom: 15px;
        }

        .btn-box {
            width: 45%;
            margin: 2.5%;
            float: left;
            background: var(--primary);
            height: 120px;
            border-radius: 12px;
            display: table; /* Vertical centering for old browsers */
            text-decoration: none;
            color: white;
            box-shadow: 0 4px 6px rgba(0,0,0,0.3);
        }

        .btn-box span {
            display: table-cell;
            vertical-align: middle;
            font-weight: bold;
            font-size: 14px;
            padding: 10px;
        }

        .login-btn {
            background: var(--primary);
            color: white;
            padding: 15px;
            width: 100%;
            border: none;
            font-weight: bold;
            border-radius: 4px;
        }

        /* Clearfix for the float grid */
        .grid-row:after {
            content: "";
            display: table;
            clear: both;
        }

        .hidden { display: none; }
    </style>
</head>
<body onload="init()">

    <button id="theme-toggle" onclick="toggleTheme()">TOGGLE THEME</button>

    <div class="wrapper">
        <div id="login-screen" class="login-box">
            <h2 style="margin-top:0">Sign In</h2>
            <input type="password" id="passInput" placeholder="Password">
            <button class="login-btn" onclick="validate()">LOGIN</button>
        </div>

        <div id="dashboard" class="grid-container">
            <div class="grid-row">
                <a href="5elements.html" class="btn-box"><span>Five Elements</span></a>
                <a href="connecting_points.html" class="btn-box"><span>Connecting Points</span></a>
            </div>
            <div class="grid-row">
                <a href="meridian.html" class="btn-box"><span>Meridian</span></a>
                <a href="misc.html" class="btn-box"><span>Miscellaneous</span></a>
            </div>
            <div class="grid-row" style="margin-top: 30px;">
                <button onclick="logout()" style="background:none; border:1px solid var(--primary); color:var(--primary); padding:10px; border-radius:5px;">Logout</button>
            </div>
        </div>
    </div>

    <script type="text/javascript">
        // Using basic JS for older Android Webview compatibility
        function init() {
            // Check Theme
            if (localStorage.getItem('mode') === 'dark') {
                document.body.setAttribute('data-theme', 'dark');
            }
            // Check Session
            if (localStorage.getItem('auth') === 'true') {
                showMenu();
            }
        }

        function validate() {
            var val = document.getElementById('passInput').value;
            // Manual string check
            if (val === "CAinfo@60") {
                localStorage.setItem('auth', 'true');
                showMenu();
            } else {
                alert("Incorrect Password");
            }
        }

        function showMenu() {
            document.getElementById('login-screen').style.display = 'none';
            document.getElementById('dashboard').style.display = 'block';
        }

        function logout() {
            localStorage.removeItem('auth');
            window.location.reload();
        }

        function toggleTheme() {
            var current = document.body.getAttribute('data-theme');
            if (current === 'dark') {
                document.body.removeAttribute('data-theme');
                localStorage.setItem('mode', 'light');
            } else {
                document.body.setAttribute('data-theme', 'dark');
                localStorage.setItem('mode', 'dark');
            }
        }
    </script>
</body>
</html>
